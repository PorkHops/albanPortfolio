@using MudBlazor
@using MudBlazor.Services
@using MudBlazor.Components
@using albanPortfolio.Components.Utils

@inject IHttpContextAccessor _context

@inherits LayoutComponentBase

<MudThemeProvider IsDarkMode="true" />
<MudPopoverProvider />

<div class="layout-root">
    <MudAppBar Elevation="1" Color="Color.Surface" Style="background-color: #1E1E1E">
        <MudText Typo="Typo.h6" Class="ml-2">Alban's Portfolio</MudText>
        <MudSpacer />
        <MudHidden Breakpoint="Breakpoint.MdAndUp">
            <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@ToggleDrawer" />
        </MudHidden>
        <MudHidden Breakpoint="Breakpoint.SmAndDown">
                <NavMenu />
        </MudHidden>
    </MudAppBar>

    <MudDrawer @bind-Open="@_drawerOpen"
                Anchor="Anchor.End"
               Elevation="1"
               Variant="DrawerVariant.Temporary"
               ClipMode="DrawerClipMode.Always">
        <MudNavMenu>
            <MudNavLink Href=""
                       Icon="@Icons.Material.Filled.Home"
                       Class="rounded-lg px-3"
                       ActiveClass="active-nav-link">
                Home
            </MudNavLink>
            <MudNavLink Href="resume"
                       Icon="@Icons.Material.Filled.Article"
                       Class="rounded-lg px-3"
                       ActiveClass="active-nav-link">
                Resume
            </MudNavLink>
            <MudNavLink Href="/projectsProfessional"
                       Icon="@Icons.Material.Filled.Business"
                       Class="rounded-lg px-3"
                       ActiveClass="active-nav-link">
                Projects
            </MudNavLink>
            <MudNavLink Href="/"
                       Icon="@Icons.Material.Filled.PlayArrow"
                       Class="rounded-lg px-3"
                       ActiveClass="active-nav-link">
                Demos
            </MudNavLink>
            <MudNavLink Href="/"
                       Icon="@Icons.Material.Filled.Email"
                       Class="rounded-lg px-3"
                       ActiveClass="active-nav-link">
                Contact
            </MudNavLink>
        </MudNavMenu>
    </MudDrawer>
    
    <main class="pt-16 pb-20">
        @Body
    </main>

    <Footer />
</div>

@code {
    private bool _drawerOpen = false;

    private void ToggleDrawer()
    {
        _drawerOpen = !_drawerOpen;
    }
}